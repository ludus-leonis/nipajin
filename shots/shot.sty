% (c) 2009-2021 by Markus Leupold-Löwenthal
% This file is released under CC BY-SA 4.0. Please do not apply other licenses one-way.
% This file is also released under CC BY 4.0.

% This is the style file for NIP'AJIN Shots. The main work is done by nipajin.sty,
% which gets called here.

\ProvidesFile{shot.sty}
\ProvidesPackage{shot}

\usepackage{nipajin} % this style file is the basic red layout

\newcommand{\CCBYSA}{\href{https://creativecommons.org/licenses/by-sa/4.0/}{\color{white}creativecommons.org/licenses/by-sa/4.0/}}

% ------------------------------------------------------------------------------

% This produces the black box at the top of the first page. Features the shots
% logo, copyright stuff, plus some intro text.
% 1 = copyright |\copyright\ 2009--2016, Markus Leupold-Löwenthal
% 2 = version
% 3 = credits: translation & co | nobody
% 4 = cc-disclaimer
% 5 = side text
\newcommand{\shotsbanner}[5]{
	\backgroundtop{trueBlack}{6cm}
	\begin{multicols}{2}\raggedbottom\color{white}
		\noindent
		\parbox[c][40mm][c]{\columnwidth}{\setlength{\parindent}{1em}

			\centerline{\fffancy\fontsize{42pt}{48pt}\selectfont{\addfontfeature{LetterSpace=-2.0}NIP'AJIN}}
			\vspace{4pt}
			\centerline{\fontsize{24pt}{24pt}\selectfont%
				\color{primary}S%
				\hspace{7.5pt}\color{white}•\hspace{7.5pt}%
				\color{primary}H%
				\hspace{7.5pt}\color{white}•\hspace{7.5pt}%
				\color{primary}O%
				\hspace{7.5pt}\color{white}•\hspace{7.5pt}%
				\color{primary}T%
				\hspace{7.5pt}\color{white}•\hspace{7.5pt}%
				\color{primary}S%
			}
			\centerline{\small\textbf{#1}}
			\vspace*{6pt}
			\centerline{\footnotesize\parbox{6cm}{\centering#2\expandafter\ifstrequal\expandafter{#3}{nobody}{}{; #3}}}

			\vspace*{5mm}

			\centerline{%
				\parbox{20mm}{\fontsize{11pt}{11pt}\selectfont\textbf{CC BY-SA 4.0}}%
				\hspace{1mm}%
				\parbox{3cm}{\tiny\CCBYSA\ #4}%
			}
		}

		\noindent
		\parbox[c][40mm][c]{\columnwidth}{\setlength{\parindent}{1em}
			\noindent\textit{#5}

			\vspace*{6pt}

			\centerline{\href{https://\shotURL}{\textbf{\shotURL}}}
		}

	\end{multicols}
	\vspace*{2mm}
}

\newcommand{\shotsfooterBYNCSA}[3]{
	\backgroundbottom{primary}{11mm}
	\grenewcommand{\bgboxinjectonce}{%
		\put(31,17){\parbox{19cm}{\color{white}%
			\textbf{#1\ | \href{https://creativecommons.org/licenses/by-nc-sa/4.0/}{CC BY-NC-SA 4.0}}
			\hspace*{6pt}
			\parbox{12cm}{
				\tiny#2\\
				#3
			}%
		}}%
	}
}

\newcommand{\shotsfooterBYSA}[3]{
	\backgroundbottom{primary}{11mm}
	\grenewcommand{\bgboxinjectonce}{%
		\put(31,17){\parbox{19cm}{\color{white}%
			\textbf{#1\ | \href{https://creativecommons.org/licenses/by-sa/4.0/}{CC BY-SA 4.0}}
			\hspace*{6pt}
			\parbox{12cm}{
				\tiny#2\\
				#3
			}%
		}}%
	}
}
